<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.geometry.Orientation?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="co.edu.uniquindio.poo.amazen.ViewController.GestionViewController">

    <!-- =======================================
         HEADER
         ======================================= -->
    <top>
        <Label text="Gestión de perfil de usuario"
               BorderPane.alignment="CENTER"
               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-padding: 10;" />
    </top>

    <!-- =======================================
         CONTENIDO PRINCIPAL
         ======================================= -->
    <center>
        <SplitPane orientation="HORIZONTAL">
            <items>

                <!-- PANEL IZQUIERDO: DATOS PERSONALES -->
                <AnchorPane>
                    <children>
                        <VBox spacing="10" AnchorPane.topAnchor="10" AnchorPane.leftAnchor="10"
                              AnchorPane.rightAnchor="10" AnchorPane.bottomAnchor="10">
                            <children>
                                <Label text="Datos personales"
                                       style="-fx-font-size: 14px; -fx-font-weight: bold;" />

                                <GridPane hgap="10" vgap="8">
                                    <columnConstraints>
                                        <ColumnConstraints halignment="RIGHT" minWidth="80" />
                                        <ColumnConstraints hgrow="ALWAYS" />
                                    </columnConstraints>

                                    <!-- Nombre -->
                                    <children>
                                        <Label text="Nombre:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                                        <TextField fx:id="txtNombre" GridPane.rowIndex="0" GridPane.columnIndex="1" />

                                        <!-- Apellido -->
                                        <Label text="Apellido:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                                        <TextField fx:id="txtApellido" GridPane.rowIndex="1" GridPane.columnIndex="1" />

                                        <!-- Documento (solo lectura) -->
                                        <Label text="Documento:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                                        <TextField fx:id="txtDocumento" GridPane.rowIndex="2" GridPane.columnIndex="1" />

                                        <!-- Email -->
                                        <Label text="Email:" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                                        <TextField fx:id="txtEmail" GridPane.rowIndex="3" GridPane.columnIndex="1" />

                                        <!-- Teléfono fijo -->
                                        <Label text="Teléfono:" GridPane.rowIndex="4" GridPane.columnIndex="0" />
                                        <TextField fx:id="txtTelefono" GridPane.rowIndex="4" GridPane.columnIndex="1" />

                                        <!-- Celular -->
                                        <Label text="Celular:" GridPane.rowIndex="5" GridPane.columnIndex="0" />
                                        <TextField fx:id="txtCelular" GridPane.rowIndex="5" GridPane.columnIndex="1" />
                                    </children>
                                </GridPane>

                                <Button fx:id="btnEditarInfo"
                                        text="Guardar cambios"
                                        onAction="#editarInformacion"
                                        maxWidth="Infinity"
                                        style="-fx-font-weight: bold; -fx-padding: 6 10;" />
                            </children>
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10" />
                            </padding>
                        </VBox>
                    </children>
                </AnchorPane>

                <!-- PANEL DERECHO: DIRECCIONES -->
                <AnchorPane>
                    <children>
                        <VBox spacing="10" AnchorPane.topAnchor="10" AnchorPane.leftAnchor="10"
                              AnchorPane.rightAnchor="10" AnchorPane.bottomAnchor="10">
                            <children>
                                <Label text="Direcciones de envío"
                                       style="-fx-font-size: 14px; -fx-font-weight: bold;" />

                                <!-- Lista de direcciones -->
                                <ListView fx:id="listaDirecciones" VBox.vgrow="ALWAYS" />

                                <!-- Nueva dirección + Agregar -->
                                <HBox spacing="8">
                                    <children>
                                        <TextField fx:id="txtNuevaDireccion"
                                                   promptText="Nueva dirección" HBox.hgrow="ALWAYS" />
                                        <Button fx:id="btnAgregarDireccion"
                                                text="Agregar"
                                                onAction="#agregarDireccion" />
                                    </children>
                                </HBox>

                                <!-- Eliminar dirección seleccionada -->
                                <Button fx:id="btnEliminarDireccion"
                                        text="Eliminar dirección seleccionada"
                                        onAction="#eliminarDireccion"
                                        maxWidth="Infinity" />
                            </children>
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10" />
                            </padding>
                        </VBox>
                    </children>
                </AnchorPane>

            </items>
        </SplitPane>
    </center>

</BorderPane>
